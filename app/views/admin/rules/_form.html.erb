<%= form_with(model: [:admin, rule]) do |form| %>
  <%= render 'errors', resource: rule %>
  <div class='d-flex gap-5'>
    <div>
      <div class="mb-3">
        <%= form.label :title %>
        <%= form.text_field :title, class: 'form-control' %>
      </div>
      <div class="mb-3">
        <%= form.label :category_id %>
        <%= form.collection_select :category_id, Category.order(:title), :id, :title, { prompt: t('prompt_cat') }, { class: 'form-select' } %>
      </div>
      <div class="mb-3">
        <%= form.label :test_id%>
        <%= form.collection_select :test_id, Test.order(:title), :id, :title, { prompt: t('prompt_test') }, class: 'form-select' %>
      </div>
    </div>
    <div>
      <%= form.fields_for :badge do |badge_form| %>
        <div>
          <% if rule.badge.image.attached? %>
            <%= badge_form.hidden_field :image, multiple: false, value: rule.badge.image.signed_id %>
            <div class='d-flex gap-2 align-items-start'>
              <%= image_tag(rule.badge.image, height: 150) %>
              <%#= button_to '', remove_image_badge_path(badge), data: { turbo_method: :delete }, class: 'btn btn-sm btn-danger bi bi-trash' %>
            </div>
          <% end %>
          <div class=''>
            <%= badge_form.label 'Select image' %>
            <%= badge_form.file_field :image, multiple: false,
            class: 'form-control mt-n2' %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <div class="mb-3">
    <%= form.submit class: 'btn btn-primary' %>
  </div>
<% end %>